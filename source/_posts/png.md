---
title: 常用的web图片格式
date: 2019-03-18 10:36:15
tags: 
    - png
    - 图片
categories: 前端
---

> 在web开发中经常会用到图片，本文会对常用的图片类型进行简单的介绍（`gif, jpg, png, webp`）

# 图片格式分类

- 无压缩。无压缩的图片格式不对图片数据进行压缩处理，能准确地呈现原图片。`BMP`格式就是其中之一。
- 无损压缩。压缩算法对图片的所有的数据进行编码压缩，能在保证图片的质量的同时降低图片的尺寸。`png`是其中的代表。
- 有损压缩。压缩算法不会对图片所有的数据进行编码压缩，而是在压缩的时候，去除了人眼无法识别的图片细节。因此有损压缩可以在同等图片质量的情况下大幅降低图片的尺寸。其中的代表是`jpg`。

# gif

采用LZW压缩算法进行编码，是一种无损的基于索引色的图片格式。由于采用了无损压缩，相比古老的`bmp`格式，尺寸较小，而且支持透明和动画。缺点是由于gif只存储8位索引（也就是最多能表达2^8=256种颜色），色彩复杂、细节丰富的图片不适合保存为gif格式。色彩简单的logo、icon、线框图适合采用`gif`格式。

# jpg

`jpg`是一种有损的基于直接色的图片格式。由于采用直接色，`jpg`可使用的颜色有1600w之多（2^24），而人眼识别的颜色数量大约只有1w多种，因此`jpg`非常适合色彩丰富图片、渐变色。`jpg`有损压缩移除肉眼无法识别的图片细节后，可以将图片的尺寸大幅度地减小。

但是`jpg`不适合icon、logo，因为相比`gif/png-8`，它在文件大小上丝毫没有优势。

# png

### 什么是PNG

PNG的全称叫便携式网络图型（Portable Network Graphics）是目前最流行的网络传输和展示的图片格式，原因有如下几点：

- `无损压缩：`PNG图片采取了基于LZ77派生算法对文件进行压缩，使得它压缩比率更高，生成的文件体积更小，并且不损失数据。


- `体积小：`它利用特殊的编码方法标记重复出现的数据，使得同样格式的图片，PNG图片文件的体积更小。网络通讯中因受带宽制约，在保证图片清晰、逼真的前提下，优先选择PNG格式的图片。


- `支持透明效果：`PNG支持对原图像定义256个透明层次，使得图像的边缘能与任何背景平滑融合，这种功能是GIF和JPEG没有的。

### PNG类型

- `PNG 8：` `PNG 8`中的8，其实指的是8bits，相当于用2^8（2的8次方）大小来存储一张图片的颜色种类，2^8等于256，也就是说`PNG 8`能存储256中颜色，一张图片如果颜色种类很少，将它设置成PNG 8得图片类型是非常适合的。`PNG 8`采用无损压缩，是基于8位索引色的位图格式。`PNG 8`相比gif对透明的支持更好，同等质量下，尺寸也更小。非常适合作为gif的替代品。但`PNG 8`也一个明显的不足就是不支持动画。这也是`PNG 8`没办法完全替代gif的重要原因。如果没有动画需求推荐使用`PNG 8`来替代`gif`。

- `PNG 24：` `PNG 24`中的24，相当于3乘以8 等于 24，就是用三个8bits分别去表示 R（红）、G（绿）、B（蓝）。R(0~255),G(0~255),B(0~255)，可以表达256乘以256乘以256=16777216种颜色的图片，这样`PNG 24`就能比`PNG 8`表示色彩更丰富的图片。但是所占用的空间相对就更大了。


- `PNG 32：` `PNG 32`中的32，相当于`PNG 24` 加上 8bits的透明颜色通道，就相当于R（红）、G（绿）、B（蓝）、A（透明）。R(0~255),G(0~255),B(0~255),A(0~255)。比PNG 24多了一个A（透明），也就是说PNG 32能表示跟`PNG 24`一样多的色彩，并且还支持256种透明的颜色，能表示更加丰富的图片颜色类型。

# webp

WebP图片是一种新的图像格式，由Google开发。与png、jpg相比，相同的视觉体验下，WebP图像的尺寸缩小了大约30％。另外，WebP图像格式还支持有损压缩、无损压缩、透明和动画。理论上完全可以替代png、jpg、gif等图片格式，当然目前webp的还没有得到全面的支持。

# 总结


| 格式 | 优点 | 缺点 | 适用场景 |
| :---- |:-------------| -----| :--- |
|  gif  | 文件小，支持动画、透明，无兼容性问题 | 只支持256种颜色 | 色彩简单的logo、icon、动图 |
|  jpg  | 色彩丰富，文件小              |   有损压缩，反复保存图片质量下降明显 | 色彩丰富的图片/渐变图像 |
|  png  | 无损压缩，支持透明，简单图片尺寸小   | 不支持动画，色彩丰富的图片尺寸大 | logo/icon/透明图 |
|  webp | 文件小，支持有损和无损压缩，支持动画、透明      | 浏览器兼容性不好 | 支持webp格式的app和webview |

# 参考

[https://juejin.im/post/5b32ea55e51d4558bf7c45e0](https://juejin.im/post/5b32ea55e51d4558bf7c45e0)

[https://juejin.im/post/5c8e4feb6fb9a070aa5ce200](https://juejin.im/post/5c8e4feb6fb9a070aa5ce200)